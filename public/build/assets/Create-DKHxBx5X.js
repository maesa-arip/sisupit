import{r as x,m as P,j as e,$ as E}from"./app-x2jNGen1.js";import{H}from"./HeaderTitle-D2WXYJg2.js";import{I as l}from"./InputError-DgWYtEsS.js";import{B as u,b as R,f as L}from"./button-SpIPt4Vq.js";import{C as V,a as z}from"./card-DFx31aDn.js";import{I as o}from"./input-D_uz7p7v.js";import{L as n}from"./label-CdAY7q-R.js";import{S as j,a as f,b as v,c as _,d as k}from"./select-9pnh9K6X.js";import{A as K}from"./AppLayout-PWtnoYqD.js";import{u as T}from"./index-wIWk9Wnl.js";import{I as A}from"./IconBrandProducthunt-6hk4k2X9.js";import{I as B}from"./IconArrowLeft-0FcukaOD.js";import"./index-EUu5nNMo.js";import"./check-BnywYV7o.js";import"./index-BUuOpQe8.js";import"./chevron-down-BT-B9BIB.js";import"./ApplicationLogo-DunTCNww.js";import"./createReactComponent-DmoYs99c.js";import"./Banner-BFD3uFNG.js";import"./ThemeSwitcher-CGC5-fRx.js";function D(t){var h,p;const g=x.useRef(null),{data:r,setData:c,reset:b,post:y,processing:C,errors:a}=P({company_id:null,category_id:null,unit_id:null,name:"",sku:"",price:"",cost:"",profit:"",stock:"",min_stock:"",logo:null,_method:t.page_settings.method}),m=s=>c(s.target.name,s.target.value),[S,N]=x.useState(""),w=s=>{const i=s.target.value.replace(/[^\d]/g,"");N(i?R(parseInt(i)):""),c(s.target.name,parseInt(i)||0)},I=s=>{s.preventDefault(),y(t.page_settings.action,{preserveScroll:!0,preserveState:!0,onSuccess:i=>{const d=L(i);d&&T[d.type](d.message)}})},F=()=>{b(),g.current.value=null};return e.jsxs("div",{className:"flex flex-col w-full pb-32",children:[e.jsxs("div",{className:"flex flex-col items-start justify-between mb-8 gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(H,{title:t.page_settings.title,subtitle:t.page_settings.subtitle,icon:A}),e.jsx(u,{variant:"orange",size:"sm",asChild:!0,children:e.jsxs(E,{href:route("front.products.index"),children:[e.jsx(B,{className:"size-4"}),"Kembali"]})})]}),e.jsx(V,{children:e.jsx(z,{className:"p-6",children:e.jsxs("form",{className:"space-y-6",onSubmit:I,children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"sku",children:"SKU"}),e.jsx(o,{name:"sku",id:"sku",value:r.sku,type:"text",onChange:m}),a.sku&&e.jsx(l,{message:a.sku})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"name",children:"Nama"}),e.jsx(o,{name:"name",id:"name",value:r.name,type:"text",onChange:m}),a.name&&e.jsx(l,{message:a.name})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"image",children:"Gambar"}),e.jsx(o,{name:"image",id:"image",type:"file",ref:g,onChange:s=>c(s.target.name,s.target.files[0])}),a.image&&e.jsx(l,{message:a.image})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"price",children:"Harga"}),e.jsx(o,{name:"price",id:"price",placeholder:"Rp 0",value:S,onChange:w}),a.price&&e.jsx(l,{message:a.price})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"category_id",children:"Kategori"}),e.jsxs(j,{defaultValue:r.category_id,onValueChange:s=>c("category_id",s),children:[e.jsx(f,{children:e.jsx(v,{children:((h=t.page_data.categories.find(s=>s.value==r.category_id))==null?void 0:h.label)??"Pilih Kategori"})}),e.jsx(_,{children:t.page_data.categories.map((s,i)=>e.jsx(k,{value:s.value,children:s.label},i))})]}),a.category_id&&e.jsx(l,{message:a.category_id})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"unit_id",children:"Satuan"}),e.jsxs(j,{defaultValue:r.unit_id,onValueChange:s=>c("unit_id",s),children:[e.jsx(f,{children:e.jsx(v,{children:((p=t.page_data.units.find(s=>s.value==r.unit_id))==null?void 0:p.label)??"Pilih Penerbit"})}),e.jsx(_,{children:t.page_data.units.map((s,i)=>e.jsx(k,{value:s.value,children:s.label},i))})]}),a.unit_id&&e.jsx(l,{message:a.unit_id})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"min_stock",children:"Minimal Stok"}),e.jsx(o,{name:"min_stock",id:"min_stock",value:r.min_stock,type:"number",placeholder:"0",onChange:m}),a.min_stock&&e.jsx(l,{message:a.min_stock})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(n,{htmlFor:"stock",children:"Total Stok"}),e.jsx(o,{name:"stock",id:"stock",value:r.stock,type:"number",placeholder:"0",onChange:m}),a.stock&&e.jsx(l,{message:a.stock})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(u,{type:"button",variant:"secondary",size:"sm",onClick:F,children:"Reset"}),e.jsx(u,{type:"submit",variant:"orange",size:"sm",disabled:C,children:"Save"})]})]})})})]})}D.layout=t=>e.jsx(K,{children:t,title:t.props.page_settings.title});export{D as default};
