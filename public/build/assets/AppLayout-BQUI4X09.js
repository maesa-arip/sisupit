import{r as l,a as x,j as e,K as d,L as S,$ as k}from"./app-DgcaxKz2.js";import{A as p}from"./ApplicationLogo-CEz_rgHt.js";import{N as n,c as f,d as g,e as j,I as v,f as b,g as w,h as L,i as u,T as D,D as A,j as W,A as P,a as C,b as I,k as T,l as M,m as R,n as m,B}from"./NavLinkResponsive-IFX3MRy_.js";import{T as E}from"./ThemeSwitcher-DUjg8DtY.js";import{B as N}from"./button-BNYPSzHz.js";import{c as z}from"./createReactComponent-l8W9ONTd.js";import{S as K,a as U,b as F,c as _,d as O,R as h,e as $}from"./index-DTvZtZaw.js";/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G=z("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);function H(){return l.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.register("/sw.js").then(function(s){console.log("Service Worker registered"),x.get("/webpush/public-key").then(r=>{const t=r.data.publicKey,i=V(t);s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i}).then(a=>{x.post("/webpush/subscribe",a)})})})},[]),null}function V(s){const r="=".repeat((4-s.length%4)%4),t=(s+r).replace(/-/g,"+").replace(/_/g,"/"),i=atob(t);return new Uint8Array([...i].map(a=>a.charCodeAt(0)))}function Y({url:s,auth:r}){return e.jsxs("nav",{className:"grid items-start px-2 text-sm font-semibold lg:px-4",children:[r.role.some(t=>["petugas","relawan","member"].includes(t))&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-foreground",children:"Dashboard"}),e.jsx(n,{url:route("dashboard"),active:s.startsWith("/dashboard"),title:"Dashboard",icon:f}),e.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-foreground",children:"Sisupit"}),e.jsx(n,{url:route("front.companies.index"),active:s.startsWith("/companies"),title:"Daftar Sebagai Relawan",icon:g}),e.jsx(n,{url:route("front.settings.index"),active:s.startsWith("/settings"),title:"Lihat Lokasi Pompa Supit",icon:j}),e.jsx(n,{url:route("cashiers"),active:s.startsWith("/cashiers2"),title:"Lihat Lokasi Pos Damkar Terdekat",icon:v})]}),e.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-foreground",children:"Lainnya"}),r.role.some(t=>["admin","operator"].includes(t))&&e.jsx(n,{url:route("admin.announcements.index"),active:s.startsWith("/admin/announcements"),title:"Pengumuman",icon:G}),e.jsx(n,{url:route("profile.edit"),active:s.startsWith("/profile"),title:"Profile",icon:b}),e.jsx(n,{url:route("logout"),title:"Logout",icon:w,method:"post",as:"button",className:"w-full"})]})}function q({url:s,auth:r}){return e.jsxs(K,{children:[e.jsx(U,{asChild:!0,children:e.jsx(N,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:e.jsx(L,{className:"size-5"})})}),e.jsxs(F,{side:"left",className:"flex flex-col max-h-screen overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(O,{children:e.jsx(h,{children:"Sidebar Responsive"})}),e.jsx($,{children:e.jsx(h,{children:"Sidebar Responsive"})})]}),e.jsxs("nav",{className:"grid gap-6 text-lg font-medium",children:[e.jsx(p,{}),e.jsxs("nav",{className:"grid items-start text-sm font-semibold lg:px-4",children:[e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-foreground",children:"Dashboard"}),e.jsx(u,{url:route("dashboard"),active:s.startsWith("/dashboard"),title:"Dashboard",icon:f})]}),e.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-foreground",children:"Sisupit"}),e.jsx(n,{url:route("front.companies.index"),active:s.startsWith("/companies"),title:"Daftar Sebagai Relawan",icon:g}),e.jsx(n,{url:route("front.settings.index"),active:s.startsWith("/settings"),title:"Lihat Lokasi Pompa Supit",icon:j}),e.jsx(n,{url:route("cashiers"),active:s.startsWith("/cashiers2"),title:"Lihat Lokasi Pos Damkar Terdekat",icon:v}),e.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-foreground",children:"Lainnya"}),e.jsx(u,{url:route("profile.edit"),active:s.startsWith("/profile"),title:"Profile",icon:b}),e.jsx(u,{url:route("logout"),title:"Logout",icon:w,method:"post",as:"button",className:"w-full"})]})]})]})]})}function J(){const[s,r]=l.useState(!1),t=l.useRef(null);l.useEffect(()=>{window.playCustomAlert=()=>{const a=new Audio("/sounds/alert.mp3");a.loop=!0,t.current=a,a.play(),r(!0)}},[]);const i=()=>{t.current&&(t.current.pause(),t.current.currentTime=0,r(!1))};return s?e.jsx("div",{className:"fixed z-50 p-2 bg-white rounded shadow bottom-4 right-4",children:e.jsx("button",{onClick:i,className:"font-bold text-red-600 hover:underline",children:"ðŸ”‡ Matikan Notifikasi Suara"})}):null}function re({title:s,children:r}){const{url:t}=d(),i=d().props.announcemet,a=d().props.auth.user;return l.useEffect(()=>{let o;"serviceWorker"in navigator&&(navigator.serviceWorker.onmessage=c=>{c.data&&c.data.type==="PLAY_SOUND"&&(o||(o=new Audio(c.data.soundUrl),o.loop=!0,o.play().catch(y=>{console.warn("Gagal memutar suara:",y)})))},window.addEventListener("focus",()=>{o&&(o.pause(),o=null)}))},[]),e.jsxs(e.Fragment,{children:[e.jsx(S,{title:s}),e.jsx(D,{position:"top-center",richColors:!0}),e.jsx(H,{}),e.jsx(J,{}),e.jsxs("div",{className:"flex flex-row w-full min-h-screen",children:[e.jsx("div",{className:"hidden w-1/5 border-r lg:block",children:e.jsxs("div",{className:"flex flex-col h-full min-h-screen gap-2",children:[e.jsx("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6",children:e.jsx(p,{})}),e.jsx("div",{className:"flex-1",children:e.jsx(Y,{url:t,auth:a})})]})}),e.jsxs("div",{className:"flex flex-col w-full lg:w-4/5",children:[e.jsxs("header",{className:"flex h-12 items-center justify-between gap-4 border-b px-4 lg:h-[60px] lg:justify-end lg:px-6",children:[e.jsx(q,{url:t,auth:a}),e.jsx(E,{}),e.jsxs(A,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(N,{variant:"ghost",size:"lg",className:"flex gap-x-2",children:[e.jsx("span",{children:a.name}),e.jsxs(P,{children:[e.jsx(C,{src:a.avatar}),e.jsx(I,{children:a.name.substring(0,1)})]})]})}),e.jsxs(T,{align:"end",children:[e.jsx(M,{children:"Akun Saya"}),e.jsx(R,{}),e.jsx(m,{children:"Profile"}),e.jsx(m,{asChild:!0,children:e.jsx(k,{href:"#",children:"Logout"})})]})]})]}),e.jsx("main",{className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-x-0 overflow-hidden -top-40 -z-10 transform-gpu blur-3xl sm:-top-80","aria-hidden":"true",children:e.jsx("div",{className:"relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-orange-100 to-orange-200 opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),e.jsxs("div",{className:"gap-4 p-4 lg:gap-6",children:[r," ",i&&i.is_active==1&&e.jsx(B,{message:i.message,url:i.url})]})]})}),e.jsxs("footer",{children:[e.jsx("div",{className:"grid grid-cols-2 gap-8 lg:grid-cols-6",children:e.jsx("div",{className:"col-span-2 mb-8 lg:mb-0",children:e.jsx("div",{className:"flex items-center gap-2 lg:justify-start"})})}),e.jsxs("div",{className:"mt-24 flex-col border-t text-sm font-medium text-muted-foreground md:flex-row md:items-center flex h-12 items-center justify-between gap-4 border-b px-4 lg:h-[60px] lg:justify-start lg:px-6 align-middle py-3",children:[e.jsx("p",{className:"text-center",children:"Develop by PT. Tawarin Dimana Saja"}),e.jsx("ul",{className:"flex gap-4"})]})]})]})]})]})}export{re as A,G as I};
