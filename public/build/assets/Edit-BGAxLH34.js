import{r as w,m as I,j as e,$ as F}from"./app-CBi5lnQ4.js";import{H}from"./HeaderTitle-B-bAVM0L.js";import{I as t}from"./InputError-DCnbSsSM.js";import{B as j,f as V}from"./button-ISS5PlY7.js";import{C as B,a as P}from"./card-CAMJe4Cg.js";import{I as d}from"./input-BcPvW9wE.js";import{L as r}from"./label-CVOLJCBM.js";import{S as u,a as m,b as g,c as h,d as x}from"./select-Bv0kNswW.js";import{T as M}from"./textarea-DQ2kiatS.js";import{A as T}from"./AppLayout-DqtQR8UH.js";import{u as z}from"./index-DgwrMNHc.js";import{I as E}from"./IconBooks-Btmp1rLV.js";import{I as L}from"./IconArrowLeft-CgCmAdqQ.js";import"./index-2FO6aJH6.js";import"./check-CFblvarI.js";import"./index-DpMFfvjX.js";import"./chevron-down-CgtcNfTP.js";import"./ApplicationLogo-BRJBWNTP.js";import"./createReactComponent-DfH5zvnv.js";import"./ThemeSwitcher-Cayag0zp.js";function R(s){var f,_,v;const b=w.useRef(null),{data:i,setData:o,reset:y,post:k,processing:C,errors:l}=I({title:s.book.title??"",author:s.book.author??"",publication_year:s.book.publication_year??null,isbn:s.book.isbn??"",language:s.book.language??null,synopsis:s.book.synopsis??"",number_of_pages:s.book.number_of_pages??"",cover:null,price:s.book.price??0,category_id:s.book.category_id??null,publisher_id:s.book.publisher_id??null,_method:s.page_settings.method}),c=a=>o(a.target.name,a.target.value),N=a=>{a.preventDefault(),k(s.page_settings.action,{preserveScroll:!0,preserveState:!0,onSuccess:n=>{const p=V(n);p&&z[p.type](p.message)}})},S=()=>{y(),b.current.value=null};return e.jsxs("div",{className:"flex w-full flex-col pb-32",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(H,{title:s.page_settings.title,subtitle:s.page_settings.subtitle,icon:E}),e.jsx(j,{variant:"orange",size:"sm",asChild:!0,children:e.jsxs(F,{href:route("admin.books.index"),children:[e.jsx(L,{className:"size-4"}),"Kembali"]})})]}),e.jsx(B,{children:e.jsx(P,{className:"p-6",children:e.jsxs("form",{className:"space-y-6",onSubmit:N,children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"title",children:"Judul"}),e.jsx(d,{name:"title",id:"title",value:i.title,type:"text",placeholder:"Masukan judul...",onChange:c}),l.title&&e.jsx(t,{message:l.title})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"author",children:"Penulis"}),e.jsx(d,{name:"author",id:"author",value:i.author,type:"text",placeholder:"Masukan penulis...",onChange:c}),l.author&&e.jsx(t,{message:l.author})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"publication_year",children:"Tahun Publikasi"}),e.jsxs(u,{defaultValue:i.publication_year,onValueChange:a=>o("publication_year",a),children:[e.jsx(m,{children:e.jsx(g,{children:s.page_data.publicationYears.find(a=>a==i.publication_year)??"Pilih Tahun Terbit"})}),e.jsx(h,{children:s.page_data.publicationYears.map((a,n)=>e.jsx(x,{value:a,children:a},n))})]}),l.publication_year&&e.jsx(t,{message:l.publication_year})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"isbn",children:"ISBN (International Standar Book Number)"}),e.jsx(d,{name:"isbn",id:"isbn",value:i.isbn,type:"text",placeholder:"Masukan ISBN...",onChange:c}),l.isbn&&e.jsx(t,{message:l.isbn})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"language",children:"Bahasa"}),e.jsxs(u,{defaultValue:i.language,onValueChange:a=>o("language",a),children:[e.jsx(m,{children:e.jsx(g,{children:((f=s.page_data.languages.find(a=>a.value==i.language))==null?void 0:f.label)??"Pilih Bahasa"})}),e.jsx(h,{children:s.page_data.languages.map((a,n)=>e.jsx(x,{value:a.value,children:a.label},n))})]}),l.language&&e.jsx(t,{message:l.language})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"synopsis",children:"Sinopsis"}),e.jsx(M,{name:"synopsis",id:"synopsis",value:i.synopsis,placeholder:"Masukan Sinopsis...",onChange:c}),l.synopsis&&e.jsx(t,{message:l.synopsis})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"number_of_pages",children:"Jumlah Halaman"}),e.jsx(d,{name:"number_of_pages",id:"number_of_pages",value:i.number_of_pages,type:"number",placeholder:"Masukan Jumlah Halaman...",onChange:c}),l.number_of_pages&&e.jsx(t,{message:l.number_of_pages})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"cover",children:"Cover"}),e.jsx(d,{name:"cover",id:"cover",type:"file",ref:b,onChange:a=>o(a.target.name,a.target.files[0])}),l.cover&&e.jsx(t,{message:l.cover})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"price",children:"Harga"}),e.jsx(d,{name:"price",id:"price",value:i.price,type:"number",placeholder:"Masukan Harga...",onChange:c}),l.price&&e.jsx(t,{message:l.price})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"category_id",children:"Kategori"}),e.jsxs(u,{defaultValue:i.category_id,onValueChange:a=>o("category_id",a),children:[e.jsx(m,{children:e.jsx(g,{children:((_=s.page_data.categories.find(a=>a.value==i.category_id))==null?void 0:_.label)??"Pilih Kategori"})}),e.jsx(h,{children:s.page_data.categories.map((a,n)=>e.jsx(x,{value:a.value,children:a.label},n))})]}),l.category_id&&e.jsx(t,{message:l.category_id})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(r,{htmlFor:"publisher_id",children:"Penerbit"}),e.jsxs(u,{defaultValue:i.publisher_id,onValueChange:a=>o("publisher_id",a),children:[e.jsx(m,{children:e.jsx(g,{children:((v=s.page_data.publishers.find(a=>a.value==i.publisher_id))==null?void 0:v.label)??"Pilih Penerbit"})}),e.jsx(h,{children:s.page_data.publishers.map((a,n)=>e.jsx(x,{value:a.value,children:a.label},n))})]}),l.publisher_id&&e.jsx(t,{message:l.publisher_id})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(j,{type:"button",variant:"secondary",size:"sm",onClick:S,children:"Reset"}),e.jsx(j,{type:"submit",variant:"orange",size:"sm",disabled:C,children:"Save"})]})]})})})]})}R.layout=s=>e.jsx(T,{children:s,title:s.props.page_settings.title});export{R as default};
