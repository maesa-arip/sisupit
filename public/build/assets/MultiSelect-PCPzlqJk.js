import{r as u,j as e}from"./app-C_qzrboB.js";import{B as z,c as a,a as K}from"./button-DLkqQvYF.js";import{B as y}from"./badge-CF7Q9jNQ.js";import{P as T,a as X,b as q,C as H,c as R,d as W,e as F,f as v,g as h,h as G}from"./popover-DH3rE4Zd.js";import{S as b}from"./separator-w1Gh4qal.js";import{c as C,C as N}from"./check-DWXs2GqJ.js";import{X as J}from"./index-D7Tq3p3t.js";import{C as w}from"./chevron-down-DDPiFVVb.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k=C("CircleX",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Y=C("WandSparkles",U),S=K("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),Z=u.forwardRef(({options:n,onValueChange:l,variant:g,defaultValue:P=[],placeholder:M="Select options",animation:x=0,maxCount:i=3,modalPopover:I=!1,asChild:ee=!1,className:D,...E},_)=>{const[t,c]=u.useState(P),[B,o]=u.useState(!1),[d,O]=u.useState(!1),A=s=>{if(s.key==="Enter")o(!0);else if(s.key==="Backspace"&&!s.currentTarget.value){const r=[...t];r.pop(),c(r),l(r)}},j=s=>{const r=t.includes(s)?t.filter(m=>m!==s):[...t,s];c(r),l(r)},f=()=>{c([]),l([])},L=()=>{o(s=>!s)},V=()=>{const s=t.slice(0,i);c(s),l(s)},$=()=>{if(t.length===n.length)f();else{const s=n.map(r=>r.value);c(s),l(s)}};return e.jsxs(T,{open:B,onOpenChange:o,modal:I,children:[e.jsx(X,{asChild:!0,children:e.jsx(z,{ref:_,...E,onClick:L,variant:"outline",className:a("flex h-auto min-h-10 w-full items-center justify-between",D),children:t.length>0?e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[t.slice(0,i).map(s=>{const r=n.find(p=>p.value===s),m=r==null?void 0:r.icon;return e.jsxs(y,{className:a(d?"animate-bounce":"",S({variant:g})),style:{animationDuration:`${x}s`},children:[m&&e.jsx(m,{className:"w-4 h-4 mr-2"}),r==null?void 0:r.label,e.jsx(k,{className:"w-4 h-4 ml-2 cursor-pointer",onClick:p=>{p.stopPropagation(),j(s)}})]},s)}),t.length>i&&e.jsxs(y,{className:a("border-foreground/1 bg-transparent text-foreground hover:bg-transparent",d?"animate-bounce":"",S({variant:g})),style:{animationDuration:`${x}s`},children:[`+ ${t.length-i} more`,e.jsx(k,{className:"w-4 h-4 ml-2 cursor-pointer",onClick:s=>{s.stopPropagation(),V()}})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(J,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:s=>{s.stopPropagation(),f()}}),e.jsx(b,{orientation:"vertical",className:"flex h-full min-h-6"}),e.jsx(w,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[e.jsx("span",{className:"mx-3 text-sm text-muted-foreground",children:M}),e.jsx(w,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})})}),e.jsx(q,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>o(!1),children:e.jsxs(H,{children:[e.jsx(R,{placeholder:"Search...",className:"my-2",onKeyDown:A}),e.jsxs(W,{children:[e.jsx(F,{children:"No results found."}),e.jsxs(v,{children:[e.jsxs(h,{onSelect:$,className:"cursor-pointer",children:[e.jsx("div",{className:a("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.length===n.length?"bg-primary text-white":"opacity-50 [&_svg]:invisible"),children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),n.map(s=>{const r=t.includes(s.value);return e.jsxs(h,{onSelect:()=>j(s.value),className:"cursor-pointer",children:[e.jsx("div",{className:a("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",r?"bg-primary text-white":"opacity-50 [&_svg]:invisible"),children:e.jsx(N,{className:"w-4 h-4"})}),s.icon&&e.jsx(s.icon,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx("span",{children:s.label})]},s.value)})]}),e.jsx(G,{}),e.jsx(v,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(h,{onSelect:f,className:"justify-center flex-1 cursor-pointer",children:"Clear"}),e.jsx(b,{orientation:"vertical",className:"flex h-full min-h-6"})]}),e.jsx(h,{onSelect:()=>o(!1),className:"justify-center flex-1 max-w-full cursor-pointer",children:"Close"})]})})]})]})}),x>0&&t.length>0&&e.jsx(Y,{className:a("my-2 h-3 w-3 cursor-pointer bg-background text-foreground",d?"":"text-muted-foreground"),onClick:()=>O(!d)})]})});Z.displayName="MultiSelect";export{Z as M};
